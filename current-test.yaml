config:
  target: 'http://localhost:8080'
  phases:
    - duration: 1  # 테스트 시간 2초
      arrivalRate: 100  # 초당 100개의 요청
      name: Load Test - 1 seconds, 100 requests
  # Payload 파일을 사용하여 userId를 로드
  payload:
    path: "user_ids.csv"  # user_ids.csv 파일 경로
    fields:
      - userId           # CSV 파일에서 가져올 필드 이름

scenarios:
  - flow:
      - post:
          url: "/test/1/vote/{{ userId }}"  # 설정된 userId 반영
          json:
            voteType: "UPVOTE"
